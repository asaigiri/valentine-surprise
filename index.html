<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valentine Exam üíö</title>

  <style>
    /* 1. VIBE & BACKGROUND */
    body {
      margin: 0;
      height: 100vh;
      font-family: 'Arial Black', Gadget, sans-serif;
      background: radial-gradient(circle, #ccff33, #88b300);
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
      color: #000;
    }

    /* 2. THE GLASS CONTAINER */
    .container {
      position: relative;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      padding: 50px 30px;
      border-radius: 40px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      width: 90%;
      max-width: 600px;
      z-index: 10;
    }

    h1 {
      font-size: clamp(32px, 8vw, 60px);
      line-height: 1.1;
      margin-bottom: 40px;
      text-transform: uppercase;
      letter-spacing: -2px;
      color: #000;
      text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.5);
    }

    /* 3. NEON BUTTONS */
    button {
      padding: 18px 35px;
      font-family: 'Arial Black', sans-serif;
      font-size: 22px;
      text-transform: uppercase;
      border: 4px solid #000;
      border-radius: 15px;
      cursor: pointer;
      margin: 10px;
      transition: all 0.1s ease;
      box-shadow: 6px 6px 0px #000;
    }

    button:hover {
      transform: translate(-2px, -2px);
      box-shadow: 8px 8px 0px #000;
    }

    button:active {
      transform: translate(4px, 4px);
      box-shadow: 0px 0px 0px #000;
    }

    #yesBtn, .optionBtn, #nextBtn {
      background-color: #000;
      color: #ccff33;
    }

    #noBtn {
      background-color: #fff;
      color: #000;
      position: fixed; /* Fixed ensures it moves relative to screen */
      z-index: 9999;
    }

    .optionBtn {
      display: block;
      width: 100%;
      margin: 12px 0;
      font-size: 18px;
    }

    /* 4. GIFS & RESPONSES */
    .response-gif {
      width: 80%;
      max-width: 250px;
      border-radius: 20px;
      margin-top: 20px;
      border: 5px solid #000;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    #response {
      margin-top: 20px;
      font-size: 22px;
      font-weight: bold;
      min-height: 50px;
    }

    /* 5. ANIMATIONS */
    .sock {
      position: fixed;
      top: -50px;
      font-size: 40px;
      z-index: 1;
      pointer-events: none;
      animation: fall 3s linear forwards;
    }

    @keyframes fall {
      to { transform: translateY(110vh) rotate(360deg); }
    }

    .finalMessage {
      font-size: 50px;
      color: #000;
    }
  </style>
</head>

<body>

<div class="container" id="mainBox">
  <div id="introArea">
    <h1 id="mainText">Will you be my Valentine?</h1>
    <button id="yesBtn">YES</button>
    <button id="noBtn">NO</button>
  </div>
  
  <div id="quiz" style="display: none;"></div>
</div>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const quizDiv = document.getElementById("quiz");
const introArea = document.getElementById("introArea");

/* =============================
   NO BUTTON LOGIC (Fixed)
============================= */
document.addEventListener("mousemove", (e) => {
  const rect = noBtn.getBoundingClientRect();
  const buttonX = rect.left + rect.width / 2;
  const buttonY = rect.top + rect.height / 2;

  const distance = Math.sqrt(
    Math.pow(e.clientX - buttonX, 2) + Math.pow(e.clientY - buttonY, 2)
  );

  // If mouse gets within 150px, move the button
  if (distance < 150) {
    const angle = Math.atan2(buttonY - e.clientY, buttonX - e.clientX);
    const moveDist = 200;

    let newX = rect.left + Math.cos(angle) * moveDist;
    let newY = rect.top + Math.sin(angle) * moveDist;

    // Boundary check to keep it on screen
    const pad = 20;
    newX = Math.max(pad, Math.min(newX, window.innerWidth - rect.width - pad));
    newY = Math.max(pad, Math.min(newY, window.innerHeight - rect.height - pad));

    noBtn.style.left = newX + "px";
    noBtn.style.top = newY + "px";
  }
});

/* =============================
   QUIZ DATA
============================= */
const questions = [
  {
    question: "1Ô∏è‚É£ Let‚Äôs start easy. Where did we first kiss?",
    options: ["High Street", "House Bar", "Southpark", "Bear Lane"],
    correctIndex: 0,
    correctResponse: "Correct. Some even call it Broad Street üòå",
    wrongResponse: "Hmm... I remember it differently üëÄ"
  },
  {
    question: "2Ô∏è‚É£ Who coined the term babsies?",
    options: ["Anurag", "Priyadarshini"],
    correctIndex: -1,
    correctResponse: "Does it matter? You are the bestest.",
    wrongResponse: ""
  },
  {
    question: "3Ô∏è‚É£ How many pairs of socks have you stolen?",
    options: ["2", "10", "100", "Elon Musk's net worth in socks"],
    correctIndex: -1,
    correctResponse: "Infinity. And I want them back (jks).",
    wrongResponse: ""
  },
  {
    question: "4Ô∏è‚É£ Which outfit do I love on you?",
    options: ["Summer dress", "Blazer look", "Sports bra look"],
    correctIndex: 1,
    correctResponse: "That corporate look makes me swoon.",
    wrongResponse: "Honestly? I love everything on you."
  },
  {
    question: "5Ô∏è‚É£ Do I love you the mostest?",
    options: ["Yes", "Yes"],
    correctIndex: 0,
    correctResponse: "Correct! See, I love you the mostest.",
    wrongResponse: ""
  }
];

// GIF PLACEHOLDERS - Replace these URLs
const gifs = [
  "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHIzeGZ3ZzRxeHpxZnd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/l41JWZ59aaaGb9Gxy/giphy.gif",
  "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNHN3Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/3o7TKoWXlo3M1nCik8/giphy.gif",
  "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZnd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/26gs6vEzLPaxuCdxK/giphy.gif",
  "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZnd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/3o7TKDkDbIDJieKbVm/giphy.gif",
  "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZnd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6Znd6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/l0Exk8EUzM9mR69Y4/giphy.gif"
];

let currentQuestion = 0;

/* =============================
   GAME ENGINE
============================= */
yesBtn.addEventListener("click", () => {
  introArea.style.display = "none";
  noBtn.style.display = "none";
  quizDiv.style.display = "block";
  showQuestion();
});

window.showQuestion = function() {
  const q = questions[currentQuestion];
  quizDiv.innerHTML = `
    <h1>${q.question}</h1>
    <div id="optionsContainer">
      ${q.options.map((opt, i) => `<button class="optionBtn" onclick="handleSelect(${i})">${opt}</button>`).join('')}
    </div>
    <div id="response"></div>
    <button id="nextBtn" style="display:none;" onclick="handleNext()">Next ‚û°Ô∏è</button>
  `;
}

window.handleSelect = function(idx) {
  const q = questions[currentQuestion];
  const resp = document.getElementById("response");
  
  // Show GIF
  const imgHtml = `<img src="${gifs[currentQuestion]}" class="response-gif">`;
  
  if (q.correctIndex === -1 || idx === q.correctIndex) {
    resp.innerHTML = q.correctResponse + imgHtml;
  } else {
    resp.innerHTML = q.wrongResponse + imgHtml;
  }

  // Sock rain for question 3
  if (currentQuestion === 2) {
    for(let i=0; i<25; i++) {
      let s = document.createElement("div");
      s.className = "sock"; s.innerHTML = "üß¶";
      s.style.left = Math.random() * 100 + "vw";
      s.style.animationDuration = (Math.random() * 2 + 1) + "s";
      document.body.appendChild(s);
      setTimeout(() => s.remove(), 3000);
    }
  }

  document.getElementById("nextBtn").style.display = "inline-block";
  document.getElementById("optionsContainer").style.pointerEvents = "none"; // Prevent double clicking
}

window.handleNext = function() {
  currentQuestion++;
  if (currentQuestion < questions.length) {
    showQuestion();
  } else {
    quizDiv.innerHTML = `<div class="finalMessage">HAPPY VALENTINE'S DAY MY LOVE ‚ù§Ô∏è</div>`;
  }
}
</script>

</body>
</html>
